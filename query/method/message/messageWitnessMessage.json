{
	"$schema": "http://json-schema.org/draft/2019-09/schema#",
	"$id": "https://github.com/dedis/student20_pop/tree/proto-specs/query/method/message/messageWitnessMessage.json",
	"title": "This represents a message someone would want to publish on a specific channel",
	"description": "Match a message used in a \"witness a message query\"",
	"type": "object",

	"properties": {
		"data": {
			"description": "[Base64String] data contained in the message",
			"type": "string",
			"contentEncoding": "base64",
			"$comment": "Note: the string is encoded in Base64"
		},
		"sender": {
			"description": "[Base64String] public key of the witness",
			"type": "string",
			"contentEncoding": "base64",
			"$comment": "Note: the string is encoded in Base64"
		},
		"signature": {
			"description": "[Base64String] witness' signature on data : Sign(data)",
			"type": "string",
			"contentEncoding": "base64",
			"$comment": "Note: the string is encoded in Base64"
		},
		"message_id": {
			"description": "[Base64String] message id : Hash(Array of Base64Data, Base64Signature)",
			"type": "string",
			"contentEncoding": "base64",
			"$comment": "Note: the string is encoded in Base64, the array is written with [\"item1\", \"item2\"] without the backslashs (only used for not breaking json here), and items hashed are their base64 representation to avoid the need of escaping the \" "
		},
		"witness_signatures": {
			"description": "[Array[Base64String]] list of witnesses' signatures",
			"type": "array",
			"maxItems": 0,
			"$comment": "Note: should always be empty"
		}
	},
	"additionalProperties": false,
	"required": ["data", "sender", "signature", "message_id", "witness_signatures"]
}
